<chapt id="source">
  <heading>Debian kernel source</heading>
  <sect id="changes">
    <heading>Changes to the pristine kernel source</heading>
    <p>

      The kernels in Debian are distributed in binary form, built from
      the Debian kernel source. It is important to recognize that
      Debian kernel source may be (and in most cases is) different
      from the upstream (or "pristine") kernel source, distributed
      from <url id="http://www.kernel.org" name="www.kernel.org"> and
      its mirrors. Due to licensing restrictions, unclear license
      information, or failure to comply with the Debian Free Software
      Guidelines (DFSG), parts of the kernel are removed in order to
      distribute the source in the <tt>main</tt> section of the Debian
      archive. Such removal produces
      <tt>linux-2.6_<em>version</em>.orig.tar.gz</tt> tarball, which
      serves as the original upstream source. <em>version</em>
      is the actual upstream version. For the details on how the removal
      is implemented, see the description of <tt>linux-patch-debian</tt>
      package in <ref id="arch-indep">.

    </p>

    <p>
      The guidelines for firmware removal were set by the <url
      id="http://www.debian.org/vote/2006/vote_007" name="Handling
      source-less firmware in the Linux kernel"> General Resolution
      and the <url
      id="http://lists.debian.org/debian-kernel/2006/10/msg00541.html"
      name="position statement"> by the release
      managers. Even though these documents originally applied to
      the Etch release, there were no significant changes in the
      removal policy, so they were in effect for the Lenny
      release as well. As of version 2.6.31-1, all known sourceless
      firmware has been removed from the Debian package.
      Additional information about firmware licensing and removals
      may be found at the
      <url id="http://wiki.debian.org" name="Debian Wiki"> page <url
      id="http://wiki.debian.org/KernelFirmwareLicensing"
      name="KernelFirmwareLicensing">.

    </p>
  </sect>
  <sect id="patches">
    <heading>Debian kernel patches</heading>
    <p>

      The source from which the Debian binary kernels are built is
      obtained by taking the source from
      <tt>linux-2.6_<em>version</em>.orig.tar.gz</tt> (that
      is, pristine kernel source with problematic parts removed)
      and applying a set of Debian
      patches. These patches typically implement essential fixes for
      serious bugs and security holes. The Debian version of the
      kernel packages has the form <tt><em>version-revision</em></tt>
      where <tt><em>version</em></tt> is the upstream version of the
      kernel (like 2.6.26) and <tt><em>revision</em></tt> determines
      the patchlevel. For example, the packages with version 2.6.26-2
      are built from the <tt>linux-2.6_2.6.26.orig.tar.gz</tt> source,
      patched up to patchlevel 2. Certain packages include extra
      'featuresets' not included in the upstream source, such as
      <tt>xen</tt> and <tt>openvz</tt>.

    </p>
    <p>

      All the patches used in the process of building of the Debian
      official kernel packages are shipped as a part of
      <tt>linux-patch-debian-<em>version</em></tt> package.  See its
      description in <ref id="arch-indep"> for more information about
      the patch system.

    </p>
  </sect>
  <sect id="acceptance">
    <heading>Policy for patch acceptance</heading>
    <p>

      The goal of the Debian kernel team is to keep the difference
      between the Debian kernel source and the "pristine" kernel
      source to a minimum.  That typically means that only the patches
      fixing security holes and serious kernel bugs are considered for
      the inclusion in the Debian kernel source. The recommended
      procedure for inclusion of patches introducing optional features
      is to package them as separate patch packages, or to convince
      the upstream maintainer to include them in the next kernel
      release.

    </p>
  </sect>
</chapt>
